* introduction
- http://www.jenapolis.de/2012/05/prof-dr-herbert-gross-ist-neuer-professor-fuer-theorie-optischer-systeme-der-uni-jena/
  - Prof. Gross Der 57-J채hrige hat mehr als drei Jahrzehnte f체r das
    Unternehmen Zeiss gearbeitet, bevor er jetzt den Schritt aus der
    Wirtschaft in die Wissenschaft machte.
  - Dass der erfahrene Wissenschaftler, der seit Mitte der 1990er
    Jahre die zentrale Abteilung f체r Optikdesign und Simulation bei
    Zeiss geleitet hat, dem Ruf der Friedrich-Schiller-Universit채t

- english slides are on http://www.iap.uni-jena.de/teaching-lightBox-1-lectureID-23.html
- z ist optische achse

** parameter
 - single step
 - surface and transition
 - wenn man ein system mit n flaechen hat, dann ist n immer die
   bildebene und die objektebene hat index 0
 - erster abstand hat index 0 und n-ter abstand wird nicht mehr
   benoetigt -- das findet er nicht masslos clever
 - ray path has fixed sequence 0,1, .. (n-1)
 - in anderen programmen ist das zum teil anders
 - 7 leute haben zemax am arbeitsplatz. am iap gibts nur wenige
 - professor gross wird neues zemax befassen
 - folien gibts auf iap seite
 - notwendige daten
   - system surfaces (radius)
   - distances and parameters (length, material)
   - stop surfaces
   - wavelengths
   - aperture
   - field points
 - optionale inputs
   - finite diameter
   - vignetting factors
   - decenter and tilt
   - coordinate reference
   - weighting factors for wavelengths and field points
   - multi configurations
   - ...

- f2 druecken um im zellen modus zahlen zu editieren
- skalieren von systemen (patent daten analysieren) .. werden immer
  auf brennweite 100 normiert (scale factor, wellenlaenge und beugung
  werden nicht veraendert, asphaerenkonstanten werden intern
  veraendert)
- kataloglinsen einsetzen und umdrehen

- was man an einer flaeche festlegen kann
  - mit rechter maus auf zelle druecken Surface properties
  - kugel, asphaere, kegelschnitt, toroidal lens (cylinder lens),
    ideal lens, coordinate break (pseudoflaeche an der koordinaten
    transformiert werden)
  - linsenschnitt farbig hervorheben (z.b. kaufkomponenten gruen)
  - linsen vorruebergehend inaktiv schalten

** solves
 - chief ray angle (hauptstrahlwinkel z.b. bildraum telezentrisch)
 - marginal ray normal
 - aplanatic surface
 - element power
 - marginal ray height (randstrahl hoehe im bild 0, frueher hat man
   die letzte flaeche immer so gekruemmt, dass die in der bildebene
   liegt)
 - pickup
   - holt sich wert des radius von woanders, z.b. bei symmetrischen
     systemen oder wenn baulaenge festgelegt ist

** 3d geometrie
- man muss pseudoflaeche einfuehren
- komischerweise kann es keine verschiebung in z aber das kann man
  ueber die dicke machen
- alle moeglichen drehwinkel sind moeglich  
- gruppe kippen oder zentrieren (z.b. ganzes objektiv oder fuer
  toleranzen)
- faltspiegel
  - erst koordinatensystem in spiegel drehen
  - dann spiegelwirkung
  - dann nochmal spiegel koordinatensystem
- surface properties / tilt-decenter
  - wenn vor und hinter der flaeche +20 grad und -20 grad wird flaeche
    gekippt, bisschen tueckisch
- zeigt wie linsengruppe um 5mm in y verschoben wird
  - insert, coordinatee break
  - kann layout nicht mehr malen (nicht rotationssymmetrisch)
  - stattdessen layout 3d, zeigt auch linien der randzylinder (lens
    edges)
  - in coordinate break linie decenter y auf 5mm setzen
  - hinter der letzten flaeche einen coordinate break einsetzen y auf
    -5mm
  - update in layout 3d druecken
  - pickup in zweiten coordinaten break setzen mit scale factor -1,
    bei dicken muss man offset machen
  - dann steht ein P neben den wert in der tabelle
- flaeche um 10 grad kippen, dahinter um -10 grad
- linke maustaste fenster in 3d layout um zu zoomen, unzoom
- window clone, und dann flaeche wieder zurueckkippen, wenn man nicht
  update in beiden drueckt, kann man vergleichen. overlay geht auch
- heutzutage nutzt man kippen zum korrigieren (z.b. headmounted
  device)
- heute bis 12:30

* definition of aperture and field
- lichtkegel mit dem system licht transportiert (mikroskopiker: je
  groesser oeffnungswinkel, mehr energie, mehr information; man
  verlaesst aber paraxial bereich und die performance wird schlechter)
- randstrahlen begrenzen den kegel
- groesse vom objektpunkt macht kegel windschief, mittlerer strahl ist
  hauptstrahl
- abbildbare flaeche * winkel ist lagrange invariante
- transportmass, dass das optiksystem korrigiert
- unterschied fotographie (coma, verzeichnung, astigmatismus),
  mikroskopie
- lithographie objektiv hat grosses feld und grosse winkel (aber nur
  eine wellenlaenge)
- beugung an apertur bewirkt airy verteilung
- man braucht also nicht besser optimieren als die airy verteilung
- bei einzellinse sin u \approx 0.05 noch beugungsbegrenzt
- achromat bis na=0.1 immer noch beugungsbegrenzt
- darueber muss man mehr aufwand treiben
- f-zahl F#=f'/Dex
- fuer kleine aperturen F#=1/(2 NA)
- stop position 
- hauptstrahl geht durch die mitte dieser blendenebene (vom rand des
  objekts)
- randstrahl geht durch die kante (von mitte des objekts)
- es ist nicht immer klar wo die blende ist, verallgemeinert zu pupille
- physische blende in beide raeume abbilden nach objekt
  (eintrittspupille) und bildraum (austrittspupille)
- sind alle zueinander konjugiert, d.h. gehen durch abbildung
  auseinander hervor
- pupille legt den lichtstrom und die aufloesung fest, perspektive
- wenn man zwei systeme zusammenbaut, muss man die pupillen matchen
  (nicht nur die sehfelder)
- pupille das auges (3.2 mm hinter der cornea), okular muss eine
  entsprechende pupille haben
- wenn nutzer eine brille traegt noch schwieriger
- d.h. okular muss pupille mind. 20mm hinter der linse haben
- sonst schaut man wie in ein schluesselloch und das feld schrumpft
  sehr schnell zusammen
- lage der eintrittspupille mit hauptstrahl, durchmesser mit
  randstrahl

- paraxiale und reale oeffnung muessen nicht identisch sein (bei
  grossen aberrationen)
- floating aperture by stop size, macht den kegel immer weiter auf,
  bis er an irgendeinen rand stoesst
- telezentrisch: hauptstrahl parallel zur optischen axe -> pupille ist
  im unendlichen, dass muss man zemax explizit setzen, da ist auch
  egal wo man den stop hinsetzt
- afocal bild im unendlichen ist auch ein sonderfall
 - dann macht spot diagram im bildraum keinen sinn. man muss das dann
   im winkelraum machen. in zemax heisst das cosine space
 - da braucht man planwelle als bezug

- field data
 - man kann bis zu 12 feld positionen definieren
 - das ist sehr wenig fuer anamorphie
 - vignettierungsfaktor (am rand ist der kegel kleiner, z.b. 70%)

- suppress frame, damit mehr platz fuer das diagramm ist
- in etwa spiegelsymmetrisch hilft unheimlich um asymmetrische fehler
  zu korrigieren
- 2d layout
- hauptwellenlaenge ist meist die zweite
- lasersysteme sind oft sehr gestreckt. dafuer kann man eine
  anamorphotische darstellung machen (y-stretch)
- analysis layout shaded model
- mit gedrueckter maus das system drehen
- opacity
- strahl ring ist am angenehmsten
- durchgeschnittenes objektiv (draw section)

- materialien auf naechste woche verschoben
- zwei uebungen hat er upgeloaded

* scheme of raytrace
- radius vorzeichen wird genutzt, um die richtige surface zu ermitteln
- spiegel: medium ist mirror (ab da alle dicken negativ, wechselt von
  rechts in linkssystem) -> sehr gewoehnungsbeduerftig
- \r'=\D_H \R_H \F \R_V \D_V \F
- equation of surface 2. order
- konstanten enthalten flaechenparameter
- c = 1/R kruemmung (planflaeche stetig)
- zwei schiefe dicke 

- probleme:
 - linse mit negativer randdicke, da meckert siemens nicht
 - totalreflexion, da meckert zemax und hoert mit raytrace auf
 - physisch linse nicht getroffen (delete vignetting, damit die
strahlen gestoppt werden)

- ebener strahlfaecher (ray fan)
- pupillenflaeche erfassen durch sampling in der pupille (ray cone)
 - polar grid
 - cartesian (rand ist schlecht)
 - isoenergetic circular (ist ganz gut, vielleicht fuer mma?)
 - hexgonal (erfasst rand ganz gut)
 - statistical (gibts mittlerweile besseres: walton statistik ohne
   loecher)

- raytrace fuer einen strahl (analysis-calculations-raytrace)
- zemax macht alles real und paraxial
- start koordinaten H (objekt)
- pupille P 

- system-wavelength (oder wav button)
- 24 wellenlaengen eingeben
- standard wellenlaengen sind auch da
- photographie: gelbes natrium d,f (blau),c (rot)
- mikroskopie F' e C' (mehr fuers auge optimiert)
- wenn man die wellenlaengen so waehlt, dass er keine brechzahlen hat,
  dann meckert er

* 2 aufgaben:
- spiegeltreppe, hinter dem letzten spiegel objektiv, aufgaben was
  angeschaut werden soll
  - editor-merrit function, optimiere fuer effl, weight 1, value 200
- telezentrisches 4f system, beste bildebene, wann ist es
  beugungsbegrenzt

* sweatt modell 
  - diffraktiv optisches element
  - unwrappen und mit hoher brechzahl (10000) als asphaere simulieren

* grin media
  - kann zemax gut
  - split-step runge kutta
  - braucht viel rechenzeit

* technische optik
  - brechzahl als funktion der koordinaten
  - gradienten nur in z haben ueberragende eigenschaften
  - axiale gradienten: 
    - brechkraft einstrahlwinkelabhaengig
  - in letzter zeit viel ueber geodaetische linsen
    - gradienten herstellen ist ein alptraum
  - problem mit antireflexbeschichtung bei gekruemmten gradientenindex
    oberflaechen
  - gradium linsen (zemax wegweisend)
    - rein axialer gradient
    - es gibt eine firma, die solche blanks verkauft, nicht ueber
      diffusion ins volumen, sondern sehr viele slices werden
      aufeinandergesprengt und thermalisiert -> sehr viel genauere
      brechzahlprofile
  - grintech fraunhofer iof
    - macht sehr praezise axiale brechzahlprofile
    - quadratische brechzahlfunktion (light confinement wie bei
      fasern)
    - lange linsen muessen auch noch korrigierenden term 4. ordnung
      haben, um oeffnungsfehler in den griff zu kriegen
    - man kann das nicht einfach so von der seite anfraesen

* praxis: eingabe der gradienten
  - chapter 11, surface types
  - gradient1 ist radiales medium mit quadratischen und linearem term
  - Delta t ist die schrittweite
  - Nr1 ist quadratisch, setzen auf -.1

  - gerade asphaere
    - scheitelaradius 100
    - hintere flaeche eben
    - konische konstante 2
    - a^4 term -.005 oder so
    - in der mitte flach, am rand staerker geneigt
    - surface sec
      - punktzahlen sind immer 2potenz+1, damit man die optische achse
        erwischt
    - negative 6. ordnung ergibt einen wendepunkt (mag die fertigung
      ueberhaupt nicht, weil das werkzeug abhebt)
    - sec crosssection 
    - taktile messung ist schlecht (schleifspur auf linse und man
      trifft mitte nicht genau), besser computer generated hologram
      und interferometrie
    - C-z 4.ordnung und curvature variable
    - editor merit function, spot radius (null ist gut) 
      - ist 5 groessenordnungen besser geworden
      - viel besser als airy (na ist relativ klein, daher kann man 
        muss man 3te ordnung bildfehler korrigieren, was wir hier
        machen)
      - jetzt muss man wieder raus

  - tools->catalogs->glass
    - schott, nBK7 (weil bleifrei)
    - brechzahl von 300nm bis 2.5um

  - general data (Gen), reiter glass catalog
    - voreinstellung immer schott
    - aber man kann noch mehr zulassen

  - analysis->glass index->dispersion diagram

  - floating glass
  - model glass
    - brechzahl, abbe zahl, anomale teildisperision
    - damit kann man stetig optimieren
    - setze n auf 3 und C-z nimmt dann das hoechst brechende (n=2.02
      schott)

- cardinal elemente sind paraxial definierte beschreibungsparameter
  - brennweite (wenn man parallel reinkommt)
  - es gibt die hauptebene. fiktive wo die ganze strahlumlenkung
    stattfindet
  - brennweite wird nicht zum scheitel, sondern zur hauptebene
    gemessen die back focal plane, er mag den ausdruck ueberhaupt
    nicht)
  - scheitel bis brennpunkt ist die schnittweite (in englisch ist das
  - je nach form charakteristische lagen (e.g. bei n=1.5 und
    symmetrisch 1/3 1/3 1/3)
  - bei konvex-plan eine identisch mit scheitel
  - linsendurchbiegung (konstante brechkraft, randflaeche/mittenflaeche)
     - durchbiegen ist eine der allerwichtigsten schritte bei der
       optimierung
     - brechungsgesetz ist nichtlinear -> bildfehler treten bei
       grossen einfallswinkeln auf. 
     - je nachdem, wie man die linse durchbiegt, bekommt man ganz
       unterschiedliche winkel
     - am besten ist gleichmaessige verteilung

   - coma strahlen sind die, die am meisten stoeren (um hauptstrahl an
     den rand der pupille)

- fuer sammellinse s' negativ, s ist positiv
- zuerst ideale linse
- dicke linsen (z.b. plankonvexlinse nehmen und die brechzahl auf 2
  setzen)
- dann objektiv durchbiegen

- vignettierung: beschnitt des strahlbueschels, wenn man schraeg durch
  system durchgeht
  - relativ komplexe beugungsfiguren, in z gestaffelt

- analysis->calculations->cardinal points  
  - fuer komplettsystem
  - knotenebenen (wo winkel gleich bleibt)
  - doppel gauss objektiv
    - erste linse (settings 1..2) 

- analysis->calculations->raytrace 
  - durchrechnung von einem einzigen strahl
  - feldpunkt und relative pupillenkoordinate
  - durchstoss punkte
  - richtungen der flaechennormale
  - wellenaberrationen
  - flaeche 7 hat starke umlenkung fuer randstrahl, flaeche 10 fast
    konzentrisch
  - linsenschnitt
  - vermutlich projektion der y koordinaten 

- aufmass durchmesser
- zeisswerk in goettingen, bildweiche, bertrand optik
  - einsatz aus kunststoff mit spanten beim prototyp ging das licht
    nicht durch
  - werksleiter hat das dann weggesaegt

- fertigteilkataloge
  - tools->catalogs->lens catalog
  - asphericon
  - melles griot, edmund, linos, newport, thorlabs
  - suche von 95 bis 105, pupillen durchmesser 40..45
  - einschraenkung der elemente (achromat als doublett)
  - search
  - efl ist brennweite, epd pupil diameter
  - insert nach flaeche 11
  - hat quarzlinse gewaehlt
  - jetzt hat zemax irgendwas kaputtgemacht

- asphericon ist fast weltweit die einzige firma mit asphaerischen
  zylinderlinsen
